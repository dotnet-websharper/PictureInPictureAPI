import { Start as fL } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fM, SetOptional as fN, Lazy as fO, GetOptional as fP, CreateFuncWithArgs as fQ, DeleteEmptyFields as fR, Create as fS, OnLoad as fT } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fU){ return"Dispose"in fU;}
function b(){ const fU=new p("New_1");const fV=(fU.h.push(new bg("pageinit", () => { c();e().addEventListener("click", () => { const f0=null;return J(G(() => H(q(d()), () => I(null))), null);});})),fU);const fW=U(fV.k, fV.h, []);const fX=new k(fW[1], D(fW[0]));let fY=(fV.i=fX,fX);const fZ=fY.Doc;W("");bd.RunById("main", fZ);}
function c(){ f().addEventListener("enterpictureinpicture", () => { e().innerText="Exit PiP Mode";});f().addEventListener("leavepictureinpicture", () => { e().innerText="Toggle PiP Mode";});}
function d(){ const fU=null;return new Promise((fV) => { fV(new Promise((fW) => { const fX=globalThis.document;let fY=fX.pictureInPictureElement===void 0?fX.exitPictureInPicture().then(() => Promise.resolve(null)):(f().requestPictureInPicture(),Promise.resolve(null));fW(fY);})["catch"]((fW) => { console.error("Error toggling Picture-in-Picture mode: "+String(r(fW)));return Promise.resolve(null);}));});}
function e(){ return T.pipButton;}
function f(){ return T.video;}
function g(fU){ throw new Error(fU);}
function h(fU){ return[fU.K, fU.V];}
function i(fU, fV){ const fW=1+fV-fU;return fW<=0?[]:by(fW, (fX) => fX+fU);}
class j { Equals(fU){ return this===fU;} GetHashCode(){ return -1;} }
class k extends j { doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fU, fV){ super();this.doc=fV;this.allVars=fU.$==0?fU.$0:g("Should not happen");this.anchorRoot=null;} }
function l(fU, fV){ n(fU, fV);return fU[fV];}
function m(fU, fV, fW){ n(fU, fV);fU[fV]=fW;}
function n(fU, fV){ if(fV<0||fV>=fU.length)g("Index was outside the bounds of the array.");}
function o(fU){ return fU.dims===2?fU.length*fU.length:fU.length;}
class p extends j { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fU){ if(fU=="New_1"){ let fV;super();this.i=null;this.k=(fV=F(),String(fV));this.h=fM([]);fN(this, "s", null);} } }
function q(fU){ return L((fV, fW) => { fU.then(fV, (fX) => fW(r(fX)));});}
function r(fU){ return fU instanceof Error?fU:new bm(fU);}
function s(fU, fV){ if(fU===fV)return true;else { const fW=typeof fU;if(fW=="object"){ if(fU===null||fU===void 0||fV===null||fV===void 0||!s(typeof fV, "object"))return false;else if("Equals"in fU)return fU.Equals(fV);else if("Equals"in fV)return false;else if(fU instanceof Array&&fV instanceof Array)return t(fU, fV);else if(fU instanceof Date&&fV instanceof Date)return u(fU, fV);else { const fX=[true];let fY;for(var f0 in fU)if(((f1) => { fX[0]=!fU.hasOwnProperty(f1)||fV.hasOwnProperty(f1)&&s(fU[f1], fV[f1]);return!fX[0];})(f0))break;if(fX[0]){ let fZ;for(var f1 in fV)if(((f2) => { fX[0]=!fV.hasOwnProperty(f2)||fU.hasOwnProperty(f2);return!fX[0];})(f1))break;} return fX[0];} } else return fW=="function"&&("$Func"in fU?fU.$Func===fV.$Func&&fU.$Target===fV.$Target:"$Invokes"in fU&&"$Invokes"in fV&&t(fU.$Invokes, fV.$Invokes));} }
function t(fU, fV){ let fW;let fX;if(o(fU)===o(fV)){ fW=true;fX=0;while(fW&&fX<o(fU)){!s(l(fU, fX), l(fV, fX))?fW=false:void 0;fX=fX+1;} return fW;} else return false;}
function u(fU, fV){ return fU.getTime()===fV.getTime();}
function v(fU){ const fV=typeof fU;return fV=="function"?0:fV=="boolean"?fU?1:0:fV=="number"?fU:fV=="string"?w(fU):fV=="object"?fU==null?0:fU instanceof Array?x(fU):y(fU):0;}
function w(fU){ let fV;if(fU===null)return 0;else { fV=5381;for(let fW=0, fX=fU.length-1;fW<=fX;fW++)fV=z(fV, fU[fW].charCodeAt());return fV;} }
function x(fU){ let fV=-34948909;for(let fW=0, fX=o(fU)-1;fW<=fX;fW++)fV=z(fV, v(l(fU, fW)));return fV;}
function y(fU){ if("GetHashCode"in fU)return fU.GetHashCode();else { const fV=[0];let fW;for(var fX in fU)if(((fY) => { fV[0]=z(z(fV[0], w(fY)), v(fU[fY]));return false;})(fX))break;return fV[0];} }
function z(fU, fV){ return(fU<<5)+fU+fV;}
function A(fU, fV){ if(fU===fV)return 0;else { const fW=typeof fU;switch(fW=="function"?1:fW=="boolean"?2:fW=="number"?2:fW=="string"?2:fW=="object"?3:0){ case 0:return typeof fV=="undefined"?0:-1;case 1:return g("Cannot compare function values.");case 2:return fU<fV?-1:1;case 3:if(fU===null)return -1;else if(fV===null)return 1;else if("CompareTo"in fU)return fU.CompareTo(fV);else if("CompareTo0"in fU)return fU.CompareTo0(fV);else if(fU instanceof Array&&fV instanceof Array)return B(fU, fV);else if(fU instanceof Date&&fV instanceof Date)return C(fU, fV);else { const fX=[0];let fY;for(var f0 in fU)if(((f1) =>!fU.hasOwnProperty(f1)?false:!fV.hasOwnProperty(f1)?(fX[0]=1,true):(fX[0]=A(fU[f1], fV[f1]),fX[0]!==0))(f0))break;if(fX[0]===0){ let fZ;for(var f1 in fV)if(((f2) =>!fV.hasOwnProperty(f2)?false:!fU.hasOwnProperty(f2)&&(fX[0]=-1,true))(f1))break;} return fX[0];} break;} } }
function B(fU, fV){ let fW;let fX;if(o(fU)<o(fV))return -1;else if(o(fU)>o(fV))return 1;else { fW=0;fX=0;while(fW===0&&fX<o(fU)){ fW=A(l(fU, fX), l(fV, fX));fX=fX+1;} return fW;} }
function C(fU, fV){ return A(fU.getTime(), fV.getTime());}
function D(fU){ W("index");return fU?X("index", V("main"), fU):void 0;}
function E(fU){ const fV={};const fW=b_(fU);try { while(fW.MoveNext()){ const fX=fW.Current;fV[fX[0]]=fX[1];} } finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} return fV;}
function F(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fU) => { const fV=Math.random()*16|0;const fW=fU=="x"?fV:fV&3|8;return fW.toString(16);});}
function G(fU){ return(fV) => { try {(fU())(fV);} catch(fW){ fV.k(bi(fW));} };}
function H(fU, fV){ return K((fW) => { fU(bh((fX) => { if(fX.$==0){ const fY=fX.$0;P().Fork(() => { try {(fV(fY))(fW);} catch(fZ){ fW.k(bi(fZ));} });} else P().Fork(() => { fW.k(fX);});}, fW.ct));});}
function I(fU){ return(fV) => { fV.k(bj(fU));};}
function J(fU, fV){ const fW=(M())[0];const fX=fV==null?fW:fV.$0;if(!fX.c)fU(bh((fY) => { if(fY.$==1)N(fY.$0);}, fX));}
function K(fU){ return(fV) => { if(fV.ct.c)O(fV);else fU(fV);};}
function L(fU){ return(fV) => { const fW=[false];const fX=(fY) => { if(fW[0])g("A continuation provided by Async.FromContinuations was invoked multiple times");else { fW[0]=true;P().Fork(fY);} };fU((fY) => { fX(() => { fV.k(bj(fY));});}, (fY) => { fX(() => { fV.k(bi(fY));});}, (fY) => { fX(() => { fV.k(bk(fY));});});};}
function M(){ return b8.defCTS;}
function N(fU){ console.log("WebSharper: Uncaught asynchronous exception", fU);}
function O(fU){ fU.k(bk(new cY("New", fU.ct)));}
function P(){ return b8.scheduler;}
function Q(){ return b8.Zero;}
function R(fU, fV){ const fW=(M())[0];const fX=fV==null?fW:fV.$0;P().Fork(() => { if(!fX.c)fU(bh((fY) => { if(fY.$==1)N(fY.$0);}, fX));});}
function S(fU){ let fV=[];let fW;for(var fX in fU)fV.push(fU[fX]);return fV;}
let T=fO((fU) => class fV { static { T=fU(this);} static pipButton;static video;static { this.video=globalThis.document.getElementById("video");this.pipButton=globalThis.document.getElementById("pipButton");} });
function U(fU, fV, fW){ const fX=new be("New_5");const fY=new bo("New_3");const fZ=b_(fV);try { while(fZ.MoveNext()){ const f0=fZ.Current;const f1=f0.Name;fY.SAdd(f1);fX.set_Item(f1, f0);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} return[bp(fV, bE((f2) => { const f3=f2[0];const f4=f2[1];const f5=f2[2];if(fY.Contains(f3))return null;else { const f6=f4===0?bT.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:V(f5.$0);let f8=bV.Create_1(f7==null?"":f7.$0);return new bU(f3, f8);}):f4===1?bT.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:V(f5.$0);let f8=bV.Create_1(f7==null?0:f7.$0);return new bW(f3, f8);}):f4===2?bT.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:V(f5.$0);let f8=bV.Create_1(f7==null?false:f7.$0);return new bX(f3, f8);}):f4===3?bT.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:V(f5.$0);let f8=bV.Create_1(f7==null?-8640000000000000:f7.$0);return new bY(f3, f8);}):f4===4?bT.GetOrAddHoleFor(fU, f3, () => new bZ(f3, bV.Create_1([]))):f4===5?bT.GetOrAddHoleFor(fU, f3, () => new b0(f3, bV.Create_1(V(globalThis.document.querySelector("[ws-dom="+f3+"]"))))):f4===6?bT.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:V(f5.$0);let f8=bV.Create_1(f7==null?[]:f7.$0);return new b1(f3, f8);}):g("Invalid value type");fX.set_Item(f3, f6);return V(f6);} }, fW)), {$:0, $0:fX}];}
function V(fU){ return{$:1, $0:fU};}
function W(fU){!Y()?(Z(true),u0030(globalThis.document.body, "")):void 0;u0031().set_Item(fU, u0032(""));}
function X(fU, fV, fW){ let fX;const fY=(fX=null,[u0032(fU).TryGetValue(fV==null?"":fV.$0, {get:() => fX, set:(fZ) => { fX=fZ;}}), fX]);return fY[0]?u0033(fY[1].cloneNode(true), fW):(console.warn("Local template doesn't exist", fV),bd.Empty);}
function Y(){ return cC.LocalTemplatesLoaded;}
function Z(fU){ cC.LocalTemplatesLoaded=fU;}
function u0030(fU, fV){ const fW=u0032(fV);const fX=new be("New_5");const fY=fU.querySelectorAll("[ws-template]");for(let f_=0, f$=fY.length-1;f_<=f$;f_++){ const fZ=fY[f_];const f0=fZ.getAttribute("ws-template").toLowerCase();fZ.removeAttribute("ws-template");fX.set_Item(f0, u0034(fZ));} const f1=fU.querySelectorAll("[ws-children-template]");for(let ga=0, gb=f1.length-1;ga<=gb;ga++){ const f2=f1[ga];const f3=f2.getAttribute("ws-children-template").toLowerCase();f2.removeAttribute("ws-children-template");fX.set_Item(f3, u0035(f2));} const f4=fU.querySelectorAll("template[id]");for(let gc=0, gd=f4.length-1;gc<=gd;gc++){ const f5=f4[gc];fX.set_Item(f5.getAttribute("id").toLowerCase(), u0036(f5));} const f6=fU.querySelectorAll("template[name]");for(let ge=0, gf=f6.length-1;ge<=gf;ge++){ const f7=f6[ge];fX.set_Item(f7.getAttribute("name").toLowerCase(), u0036(f7));} const f8=new bo("New_3");function f9(gg){ if(!fW.ContainsKey(gg)){ let gh;const gi=(gh=null,[fX.TryGetValue(gg, {get:() => gh, set:(gj) => { gh=gj;}}), gh]);if(gi[0]){ f8.SAdd(gg);fX.RemoveKey(gg);u0037(fV, V(gg), gi[1], V(f9));} else console.warn(f8.Contains(gg)?"Encountered loop when instantiating "+gg:"Local template does not exist: "+gg);} } while(fX.count>0)f9(bq(fX.Keys));}
function u0031(){ return cC.LoadedTemplates;}
function u0032(fU){ let fV;const fW=(fV=null,[u0031().TryGetValue(fU, {get:() => fV, set:(fY) => { fV=fY;}}), fV]);if(fW[0])return fW[1];else { const fX=new be("New_5");u0031().set_Item(fU, fX);return fX;} }
function u0033(fU, fV){ let fW;const fX=u0038(fU, bp(fV, u0039().Values));const fY=fX[1];const fZ=fX[0];const f0=fZ.Els;return!s(f0, null)&&f0.length===1&&(l(f0, 0)instanceof Node&&(s(l(f0, 0).nodeType, Node.ELEMENT_NODE)&&(fW=l(f0, 0),true)))?c6.TreeNode(fZ, fY):bd.Mk(b2(fZ), fY);}
function u0034(fU){ fU.removeAttribute("ws-template");const fV=fU.getAttribute("ws-replace");if(fV==null){ } else { fU.removeAttribute("ws-replace");const fW=fU.parentNode;if(s(fW, null)){ } else { const fX=globalThis.document.createElement(fU.tagName);fX.setAttribute("ws-replace", fV);fW.replaceChild(fX, fU);} } const fY=globalThis.document.createElement("div");fY.appendChild(fU);return fY;}
function u0035(fU){ const fV=globalThis.document.createElement("div");while(fU.hasChildNodes())fV.appendChild(fU.firstChild);return fV;}
function u0036(fU){ const fV=globalThis.document.createElement("div");const fW=fU.content;for(let fX=0, fY=fW.childNodes.length-1;fX<=fY;fX++)fV.appendChild(fW.childNodes[fX].cloneNode(true));return fV;}
function u0037(fU, fV, fW, fX){ const fY=new bo("New_3");function fZ(f6, f7){ while(true)switch(f6){ case 0:if(f7!==null){ const f8=f7.nextSibling;if(s(f7.nodeType, Node.TEXT_NODE))dd(f7);else if(s(f7.nodeType, Node.ELEMENT_NODE))f1(f7);f7=f8;} else return null;break;case 1:const f9=dl(f7.nodeName, V(3), null).toLowerCase();const f_=f9.indexOf(".");const f$=f_===-1?[fU, f9]:[dl(f9, null, V(f_-1)), dl(f9, V(f_+1), null)];const ga=f$[1];const gb=f$[0];if(gb!=""&&!u0031().ContainsKey(gb))return de(ga);else { if(gb==""&&fX!=null)fX.$0(ga);const gc=u0031().Item(gb);if(!gc.ContainsKey(ga))return de(ga);else { const gd=gc.Item(ga);const ge=gd.cloneNode(true);const gf=new bo("New_3");const gg=new be("New_5");const gh=f7.attributes;for(let gr=0, gs=gh.length-1;gr<=gs;gr++){ const gi=gh.item(gr).name.toLowerCase();const gj=gh.item(gr).nodeValue;let gk=gj==""?gi:gj.toLowerCase();gg.set_Item(gi, gk);if(!gf.SAdd(gi))console.warn("Hole mapped twice", gi);} for(let gt=0, gu=f7.childNodes.length-1;gt<=gu;gt++){ const gl=f7.childNodes[gt];if(s(gl.nodeType, Node.ELEMENT_NODE))if(!gf.SAdd(gl.nodeName.toLowerCase()))console.warn("Hole filled twice", ga);} const gm=f7.childNodes.length===1&&s(f7.firstChild.nodeType, Node.TEXT_NODE);if(gm){ const gn=df(ge, f7.firstChild.textContent, ga);const go=((gv) =>(gw) => gv.SAdd(gw))(gf);let gp=((gv) =>(gw) => { if(gw!=null)gv(gw.$0);})((gv) => { go(gv);});gp(gn);} dg(ge, gf);if(!gm){ for(let gv=0, gw=f7.childNodes.length-1;gv<=gw;gv++){ const gq=f7.childNodes[gv];if(s(gq.nodeType, Node.ELEMENT_NODE))if(gq.hasAttributes())dh(ge, gq);else f0(ge, gq);} } di(ge, gg);dj(ge, f7.parentNode, f7);f7.parentNode.removeChild(f7);return;} } break;} } function f0(f6, f7){ const f8=f7.nodeName.toLowerCase();const f9=(gb, gc) => { if(f8=="title"&&f7.hasChildNodes()){ const gd=dm(f7.textContent);f7.removeChild(f7.firstChild);while(gd.hasChildNodes())f7.appendChild(gd.firstChild);} f1(f7);return dj(f7, gb, gc);};$(f6, "[ws-attr-holes]", (gb) => { const gc=en(gb.getAttribute("ws-attr-holes"), [" "], 1);for(let gg=0, gh=gc.length-1;gg<=gh;gg++){ const gd=l(gc, gg);let ge=new RegExp("\\${"+f8+"}", "ig");let gf=gb.getAttribute(gd).replace(ge, f7.textContent);gb.setAttribute(gd, gf);} });const f_=f6.querySelector("[ws-hole="+f8+"]");if(s(f_, null)){ const f$=f6.querySelector("[ws-replace="+f8+"]");if(s(f$, null)){ const ga=f6.querySelector("slot[name="+f8+"]");return f6.tagName.toLowerCase()=="template"?(f9(ga.parentNode, ga),void ga.parentNode.removeChild(ga)):null;} else { f9(f$.parentNode, f$);f$.parentNode.removeChild(f$);return;} } else { while(f_.hasChildNodes())f_.removeChild(f_.lastChild);f_.removeAttribute("ws-hole");return f9(f_, null);} } function f1(f6){ if(!f6.hasAttribute("ws-preserve"))if(eo(f6.nodeName.toLowerCase(), "ws-"))f3(f6);else { dk(f6);f2(f6.firstChild);} } function f2(f6){ return fZ(0, f6);} function f3(f6){ return fZ(1, f6);} function f4(f6){ while(true){ const f7=f6.querySelector("[ws-template]");if(s(f7, null)){ const f8=f6.querySelector("[ws-children-template]");if(s(f8, null)){ const f9=f6.querySelectorAll("template[id]");for(let gd=1, ge=f9.length-1;gd<=ge;gd++){ const f_=f9[gd];if(fY.Contains(f_)){ } else { u0037(fU, V(f_.getAttribute("id")), f_, null);fY.SAdd(f_);} } const f$=f6.querySelectorAll("template[name]");for(let gf=1, gg=f$.length-1;gf<=gg;gf++){ const ga=f$[gf];if(fY.Contains(ga)){ } else { u0037(fU, V(ga.getAttribute("name")), ga, null);fY.SAdd(ga);} } return null;} else { const gb=f8.getAttribute("ws-children-template");f8.removeAttribute("ws-children-template");u0037(fU, V(gb), f8, null);f6=f6;} } else { const gc=f7.getAttribute("ws-template");(ba(fU, V(gc), f7))(null);f6=f6;} } } const f5=(fV==null?"":fV.$0).toLowerCase();u0032(fU).set_Item(f5, fW);if(fW.hasChildNodes()){ f4(fW);f2(fW.firstChild);} }
function u0038(fU, fV){ let fW;const fX=[];const fY=[];const fZ=[];const f0=[];const f1=new be("New_5");const f2=b_(fV);try { while(f2.MoveNext()){ const f3=f2.Current;f1.set_Item(f3.Name, f3);} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} let f4=dn(fU);const f5=(gc, gd) => { const ge=dM(gc, gd);fY.push(dN(ge));fZ.push([gc, ge]);const gf=fP(ge.OnAfterRender);if(gf==null)return null;else { const gg=gf.$0;f0.push(() => { gg(gc);});return;} };const f6=(gc) => { let gd;const ge=(gd=null,[f1.TryGetValue(gc, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(ge[0]){ const gf=ge[1];if(gf instanceof d3)return V(gf.Value);else if(gf instanceof d4)return V(bd.TextNode(gf.Value));else { const gg=gf.ForTextView();return gg==null?null:V(bd.TextView(gg.$0));} } else return null;};$(fU, "[ws-hole]", (gc) => { const gd=gc.getAttribute("ws-hole");gc.removeAttribute("ws-hole");while(gc.hasChildNodes())gc.removeChild(gc.lastChild);const ge=f6(gd);if(ge!=null&&ge.$==1){ const gf=ge.$0;cD(gc, gf.docNode);fX.push(cX.New(dO(gc), gf.docNode, null, gc, c0(), null));fY.push(gf.updates);} });$(fU, "[ws-replace]", (gc) => { const gd=f6(gc.getAttribute("ws-replace"));if(gd!=null&&gd.$==1){ const ge=gd.$0;const gf=gc.parentNode;const gg=globalThis.document.createTextNode("");gf.replaceChild(gg, gc);const gh=cI(gg, ge.docNode);f4=dn(fU);const gi=bF((gj) => gc===gj, f4);if(gi==null){ } else m(f4, gi.$0, ge.docNode);fX.push(cX.New(dO(gf), ge.docNode, V([gh, gg]), gf, c0(), null));fY.push(ge.updates);} });let f7=false;$(fU, "slot", (gc) => { const gd=gc.getAttribute("name");const ge=gd==""||gd==null?"default":gd.toLowerCase();if(f7&&ge=="default"||!s(fU.parentElement, null)){ } else { while(gc.hasChildNodes())gc.removeChild(gc.lastChild);if(ge=="default")f7=true;const gf=f6(ge);if(gf!=null&&gf.$==1){ const gg=gf.$0;cD(gc, gg.docNode);fX.push(cX.New(dO(gc), gg.docNode, null, gc, c0(), null));fY.push(gg.updates);} } });$(fU, "[ws-attr]", (gc) => { let gd;const ge=gc.getAttribute("ws-attr");gc.removeAttribute("ws-attr");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];if(gg instanceof d5)f5(gc, gg.Value);else console.warn("Attribute hole filled with non-attribute data", ge);} });$(fU, "[ws-on]", (gc) => { f5(gc, eh.Concat(bE((gd) => { let ge;const gf=en(gd, [":"], 1);const gg=(ge=null,[f1.TryGetValue(l(gf, 1), {get:() => ge, set:(gi) => { ge=gi;}}), ge]);if(gg[0]){ const gh=gg[1];return gh instanceof d6?V(d7(l(gf, 0), gh.Value)):gh instanceof eg?V(eh.Handler(l(gf, 0), gh.Value)):(console.warn("Event hole on"+l(gf, 0)+" filled with non-event data", l(gf, 1)),null);} else return null;}, en(gc.getAttribute("ws-on"), [" "], 1))));gc.removeAttribute("ws-on");});$(fU, "[ws-onafterrender]", (gc) => { let gd;const ge=gc.getAttribute("ws-onafterrender");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];if(gg instanceof ei){ gc.removeAttribute("ws-onafterrender");f5(gc, d8(gg.Value));} else if(gg instanceof bg){ gc.removeAttribute("ws-onafterrender");f5(gc, d8(gg.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", ge);} });$(fU, "[ws-var]", (gc) => { let gd;const ge=gc.getAttribute("ws-var");gc.removeAttribute("ws-var");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gg) => { gd=gg;}}), gd]);if(gf[0])gf[1].AddAttribute((gg) =>(gh) => f5(gg, gh), gc);});const f8=() => { bb("[ws-dom]", (gc) => { let gd;let ge;let gf;const gg=(gd=null,[f1.TryGetValue(gc.getAttribute("ws-dom").toLowerCase(), {get:() => gd, set:(gk) => { gd=gk;}}), gd]);if(gg[0]){ const gh=gg[1];if(gh instanceof b0){ const gi=gh.Value;gc.removeAttribute("ws-dom");ge=gc;const gj=new MutationObserver((gk, gl) => { bJ((gm) => { gm.removedNodes.forEach(fQ((gn) => gn[0]===ge&&gm.addedNodes.length!==1?(gi.SetFinal(null),gl.disconnect()):null), null);}, gk);});if(gc.parentElement!==null)gj.observe(gc.parentElement, (gf={},gf.childList=true,gf));gi.Set(V(gc));c8((gk) => { if(gk!=null&&gk.$==1){ const gl=gk.$0;if(ge===gl){ } else { ge.replaceWith(gl);ge=gl;} } else { ge.remove();gj.disconnect();} }, gi.View);} } });};$(fU, "[ws-attr-holes]", (gc) => { const gd=new RegExp(bc(), "g");const ge=en(gc.getAttribute("ws-attr-holes"), [" "], 1);gc.removeAttribute("ws-attr-holes");for(let gf=0, gg=ge.length-1;gf<=gg;gf++)((() => { let gh;const gi=l(ge, gf);const gj=gc.getAttribute(gi);let gk=null;let gl=0;const gm=[];while(gk=gd.exec(gj),gk!==null){ const gn=dl(gj, V(gl), V(gd.lastIndex-l(gk, 0).length-1));gl=gd.lastIndex;gm.push([gn, l(gk, 1)]);} const go=dl(gj, V(gl), null);gd.lastIndex=0;const gp=bK((gu, gv) =>(((gw) => { const gx=gw[0];const gy=gw[1];return(gz) => { let gA;const gB=gz[0];const gC=gz[1];const gD=(gA=null,[f1.TryGetValue(gy, {get:() => gA, set:(gF) => { gA=gF;}}), gA]);const gE=gD[0]?gD[1].AsChoiceView:ej("");return gE.$==1?[gx, el.Cons(gB==""?gE.$0:c9((gF) => gF+gB, gE.$0), gC)]:[gx+gE.$0+gB, gC];};})(gu))(gv), gm, [go, el.Empty]);if(gp[1].$==1){ if(gp[1].$1.$==1){ if(gp[1].$1.$1.$==1){ if(gp[1].$1.$1.$1.$==0){ const gq=gp[0];gh=d9(gi, c_((gu, gv, gw) => gq+gu+gv+gw, gp[1].$0, gp[1].$1.$0, gp[1].$1.$1.$0));} else { const gr=gp[0];gh=d9(gi, c9((gu) => gr+em("", gu), c$(gp[1])));} } else { const gs=gp[0];gh=d9(gi, da((gu, gv) => gs+gu+gv, gp[1].$0, gp[1].$1.$0));} } else if(gp[0]=="")gh=d9(gi, gp[1].$0);else { const gt=gp[0];gh=d9(gi, c9((gu) => gt+gu, gp[1].$0));} } else gh=eh.Create(gi, gp[0]);return f5(gc, gh);})());});let f9=f4;const f_=f0.length==0?V(() => { f8();}):V((gc) => { f8();bJ((gd) => { gd(gc);}, f0);});const f$=!s(f4, null)&&f4.length===1&&(l(f4, 0)instanceof Node&&(l(f4, 0)instanceof Element&&(fW=l(f4, 0),true)))?V(fW):null;let ga={Els:f9, Dirty:true, Holes:fX, Attrs:fZ, Render:f_?f_.$0:void 0, El:f$?f$.$0:void 0};let gb=fR(ga, ["Render", "El"]);return[gb, eu(c7(), db, fY)];}
function u0039(){ return cC.GlobalHoles;}
function $(fU, fV, fW){ dt(fU, fV, (fX) => { if(fX.closest("[ws-preserve]")==null)fW(fX);});}
function ba(fU, fV, fW){ const fX=u0034(fW);return(fY) => { u0037(fU, fV, fX, fY);};}
function bb(fU, fV){ du(fU, (fW) => { if(fW.closest("[ws-preserve]")==null)fV(fW);});}
function bc(){ return cC.TextHoleRE;}
class bd extends j { docNode;updates;static RunById(fU, fV){ const fW=globalThis.document.getElementById(fU);if(s(fW, null))g("invalid id: "+fU);else bd.Run(fW, fV);} static Run(fU, fV){ cD(fU, fV.docNode);bd.RunInPlace(false, fU, fV);} static get Empty(){ return bd.Mk(null, c7());} static RunInPlace(fU, fV, fW){ const fX=cF(fV, fW.docNode);c8(dB()||dI()?dJ(cG(fU, fX, fW.docNode)):() => { cH(fU, fX, fW.docNode);}, fW.updates);} static Mk(fU, fV){ return new bd(fU, fV);} static TextNode(fU){ return bd.Mk(b3(globalThis.document.createTextNode(fU)), c7());} static TextView(fU){ const fV=cQ();return bd.Mk(b4(fV), c9((fW) => { cR(fV, fW);}, fU));} constructor(fU, fV){ super();this.docNode=fU;this.updates=fV;} }
class be extends j { equals;hash;count;data;set_Item(fU, fV){ this.set(fU, fV);} set(fU, fV){ const fW=this.hash(fU);const fX=this.data[fW];if(fX==null){ this.count=this.count+1;this.data[fW]=new Array({K:fU, V:fV});} else { const fY=bF((fZ) => this.equals.apply(null, [(h(fZ))[0], fU]), fX);if(fY==null){ this.count=this.count+1;fX.push({K:fU, V:fV});} else fX[fY.$0]={K:fU, V:fV};} } TryGetValue(fU, fV){ const fW=this.data[this.hash(fU)];if(fW==null)return false;else { const fX=bG((fY) => { const fZ=h(fY);return this.equals.apply(null, [fZ[0], fU])?V(fZ[1]):null;}, fW);return fX!=null&&fX.$==1&&(fV.set(fX.$0),true);} } ContainsKey(fU){ const fV=this.data[this.hash(fU)];return fV==null?false:bH((fW) => this.equals.apply(null, [(h(fW))[0], fU]), fV);} RemoveKey(fU){ return this.remove(fU);} get Keys(){ return new dA(this);} GetEnumerator(){ return cb(bI(S(this.data)));} get Values(){ return new ey(this);} remove(fU){ const fV=this.hash(fU);const fW=this.data[fV];if(fW==null)return false;else { const fX=bM((fY) =>!this.equals.apply(null, [(h(fY))[0], fU]), fW);return o(fX)<fW.length&&(this.count=this.count-1,this.data[fV]=fX,true);} } Item(fU){ return this.get(fU);} get(fU){ const fV=this.data[this.hash(fU)];return fV==null?b9():bO((fW) => { const fX=h(fW);return this.equals.apply(null, [fX[0], fU])?V(fX[1]):null;}, fV);} static New_5(){ return new this("New_5");} static New_6(fU, fV, fW){ return new this("New_6", fU, fV, fW);} constructor(fU, fV, fW, fX){ if(fU=="New_5"){ fU="New_6";fV=[];fW=s;fX=v;} if(fU=="New_6"){ const fY=fV;const fZ=fW;const f0=fX;super();this.equals=fZ;this.hash=f0;this.count=0;this.data=[];const f1=b_(fY);try { while(f1.MoveNext()){ const f2=f1.Current;this.set(f2.K, f2.V);} } finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } } }
class bf extends j { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fU, fV){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ej("");} }
class bg extends bf { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
function bh(fU, fV){ return{k:fU, ct:fV};}
function bi(fU){ return{$:1, $0:fU};}
function bj(fU){ return{$:0, $0:fU};}
function bk(fU){ return{$:2, $0:fU};}
class bl extends j { }
class bm extends Error { reason;constructor(fU){ super("Promise rejected");this.reason=fU;} }
function bn(fU, fV){ return{c:fU, r:fV};}
class bo extends j { equals;hash;data;count;SAdd(fU){ return this.add(fU);} Contains(fU){ const fV=this.data[this.hash(fU)];return fV==null?false:this.arrContains(fU, fV);} add(fU){ const fV=this.hash(fU);const fW=this.data[fV];return fW==null?(this.data[fV]=[fU],this.count=this.count+1,true):this.arrContains(fU, fW)?false:(fW.push(fU),this.count=this.count+1,true);} arrContains(fU, fV){ let fW=true;let fX=0;const fY=fV.length;while(fW&&fX<fY)if(this.equals.apply(null, [fV[fX], fU]))fW=false;else fX=fX+1;return!fW;} GetEnumerator(){ return b_(eQ(this.data));} ExceptWith(fU){ const fV=b_(fU);try { while(fV.MoveNext())this.Remove(fV.Current);} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} } get Count(){ return this.count;} IntersectWith(fU){ const fV=new bo("New_4", fU, this.equals, this.hash);const fW=eQ(this.data);for(let fY=0, fZ=fW.length-1;fY<=fZ;fY++){ const fX=fW[fY];if(!fV.Contains(fX))this.Remove(fX);} } Remove(fU){ const fV=this.data[this.hash(fU)];return fV==null?false:this.arrRemove(fU, fV)&&(this.count=this.count-1,true);} CopyTo(fU, fV){ const fW=eQ(this.data);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)m(fU, fX+fV, fW[fX]);} arrRemove(fU, fV){ let fW=true;let fX=0;const fY=fV.length;while(fW&&fX<fY)if(this.equals.apply(null, [fV[fX], fU])){ fV.splice(fX, 1);fW=false;} else fX=fX+1;return!fW;} static New_3(){ return new this("New_3");} static New_4(fU, fV, fW){ return new this("New_4", fU, fV, fW);} static New_2(fU){ return new this("New_2", fU);} constructor(fU, fV, fW, fX){ if(fU=="New_3"){ fU="New_4";fV=[];fW=s;fX=v;} let fY;if(fU=="New_2"){ fY=fV;fU="New_4";fV=fY;fW=s;fX=v;} if(fU=="New_4"){ const fZ=fV;const f0=fW;const f1=fX;super();this.equals=f0;this.hash=f1;this.data=[];this.count=0;const f2=b_(fZ);try { while(f2.MoveNext())this.add(f2.Current);} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} } } }
function bp(fU, fV){ return{GetEnumerator:() => { const fW=b_(fU);const fX=[true];return new cc(fW, null, (fY) => { if(fY.s.MoveNext()){ fY.c=fY.s.Current;return true;} else { const fZ=fY.s;if(!s(fZ, null))fZ.Dispose();fY.s=null;return fX[0]&&(fX[0]=false,fY.s=b_(fV),fY.s.MoveNext()?(fY.c=fY.s.Current,true):(fY.s.Dispose(),fY.s=null,false));} }, (fY) => { const fZ=fY.s;if(!s(fZ, null))fZ.Dispose();});}};}
function bq(fU){ const fV=b_(fU);try { return fV.MoveNext()?fV.Current:dx();} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function br(fU, fV, fW){ let fX=fV;const fY=b_(fW);try { while(fY.MoveNext())fX=fU(fX, fY.Current);return fX;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bs(fU, fV){ const fW=b_(fV);try { while(fW.MoveNext())fU(fW.Current);} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bt(fU, fV){ return{GetEnumerator:() => { const fW=b_(fV);return new cc(null, null, (fX) => fW.MoveNext()&&(fX.c=fU(fW.Current),true), () => { fW.Dispose();});}};}
function bu(fU){ return{GetEnumerator:() => b_(fU())};}
function bv(fU, fV){ return bx(bt(fU, fV));}
function bw(fU){ const fV=b_(fU);try { if(!fV.MoveNext())bz();let fW=fV.Current;while(fV.MoveNext()){ const fX=fV.Current;if(A(fX, fW)===1)fW=fX;} return fW;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bx(fU){ return{GetEnumerator:() => { const fV=b_(fU);function fW(fX){ while(true){ const fY=fX.s;if(s(fY, null)){ if(fV.MoveNext()){ fX.s=b_(fV.Current);fX=fX;} else { fV.Dispose();return false;} } else if(fY.MoveNext()){ fX.c=fY.Current;return true;} else { fX.Dispose();fX.s=null;fX=fX;} } } return new cc(null, null, fW, (fX) => { const fY=fX.s;if(!s(fY, null))fY.Dispose();if(!s(fV, null))fV.Dispose();});}};}
function by(fU, fV){ return bA(fU, bB(fV));}
function bz(){ return g("The input sequence was empty.");}
function bA(fU, fV){ fU<0?dz():void 0;return{GetEnumerator:() => { const fW=[b_(fV)];return new cc(0, null, (fX) => { fX.s=fX.s+1;if(fX.s>fU)return false;else { const fY=fW[0];return s(fY, null)?dx():fY.MoveNext()?(fX.c=fY.Current,fX.s===fU?(fY.Dispose(),fW[0]=null):void 0,true):(fY.Dispose(),fW[0]=null,dx());} }, () => { const fX=fW[0];if(!s(fX, null))fX.Dispose();});}};}
function bB(fU){ return{GetEnumerator:() => new cc(0, null, (fV) => { fV.c=fU(fV.s);fV.s=fV.s+1;return true;}, void 0)};}
function bC(fU, fV){ return!bD((fW) =>!fU(fW), fV);}
function bD(fU, fV){ const fW=b_(fV);try { let fX=false;while(!fX&&fW.MoveNext())fX=fU(fW.Current);return fX;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bE(fU, fV){ const fW=[];for(let fY=0, fZ=fV.length-1;fY<=fZ;fY++){ const fX=fU(fV[fY]);if(fX==null){ } else fW.push(fX.$0);} return fW;}
function bF(fU, fV){ let fW=null;let fX=0;while(fX<fV.length&&fW==null){ fU(fV[fX])?fW=V(fX):void 0;fX=fX+1;} return fW;}
function bG(fU, fV){ let fW=null;let fX=0;while(fX<fV.length&&fW==null){ const fY=fU(fV[fX]);if(fY!=null&&fY.$==1)fW=fY;fX=fX+1;} return fW;}
function bH(fU, fV){ let fW=false;let fX=0;while(!fW&&fX<o(fV))if(fU(fV[fX]))fW=true;else fX=fX+1;return fW;}
function bI(fU){ return Array.prototype.concat.apply([], bN(fU));}
function bJ(fU, fV){ for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function bK(fU, fV, fW){ let fX=fW;const fY=fV.length;for(let fZ=1, f0=fY;fZ<=f0;fZ++)fX=fU(fV[fY-fZ], fX);return fX;}
function bL(fU, fV){ const fW=new Array(fV.length);for(let fX=0, fY=fV.length-1;fX<=fY;fX++)fW[fX]=fU(fV[fX]);return fW;}
function bM(fU, fV){ const fW=[];for(let fX=0, fY=fV.length-1;fX<=fY;fX++)if(fU(fV[fX]))fW.push(fV[fX]);return fW;}
function bN(fU){ if(fU instanceof Array)return fU.slice();else if(fU instanceof el)return bP(fU);else { const fV=[];const fW=b_(fU);try { while(fW.MoveNext())fV.push(fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } }
function bO(fU, fV){ const fW=bG(fU, fV);return fW==null?g("KeyNotFoundException"):fW.$0;}
function bP(fU){ const fV=[];let fW=fU;while(!(fW.$==0)){ fV.push(e6(fW));fW=e7(fW);} return fV;}
function bQ(fU, fV){ let fW=true;let fX=0;while(fW&&fX<o(fV))if(fU(fV[fX]))fX=fX+1;else fW=false;return fW;}
function bR(fU, fV){ const fW=new Array(fU);for(let fX=0, fY=fU-1;fX<=fY;fX++)fW[fX]=fV;return fW;}
function bS(fU, fV){ if(fU<0)g("Negative size given.");else null;const fW=new Array(fU);for(let fX=0, fY=fU-1;fX<=fY;fX++)fW[fX]=fV(fX);return fW;}
let bT=fO((fU) => class fV extends j { static { bT=fU(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fW, fX, fY){ let fZ;const f0=bT.GetHolesFor(fW);const f1=(fZ=null,[f0.TryGetValue(fX, {get:() => fZ, set:(f3) => { fZ=f3;}}), fZ]);if(f1[0])return f1[1];else { const f2=fY();f0.set_Item(fX, f2);return f2;} } static GetHolesFor(fW){ let fX;const fY=(fX=null,[bT.initialized.TryGetValue(fW, {get:() => fX, set:(f0) => { fX=f0;}}), fX]);if(fY[0])return fY[1];else { const fZ=new be("New_5");bT.initialized.set_Item(fW, fZ);return fZ;} } static { bT.initialized=new be("New_5");bT.instances=new be("New_5");} });
class bU extends bf { name;fillWith;get Name(){ return this.name;} ForTextView(){ return V(this.fillWith.View);} AddAttribute(fU, fV){(fU(fV))(d_(this.fillWith));} get AsChoiceView(){ return ek(c9(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
let bV=fO((fU) => class fV extends j { static { bV=fU(this);} static Create_1(fW){ return new ce(false, {s:c3(fW, [])}, fW);} static { } });
class bW extends bf { name;fillWith;get Name(){ return this.name;} ForTextView(){ return V(c9(String, this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(d$(this.fillWith));} get AsChoiceView(){ return ek(c9(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class bX extends bf { name;fillWith;get Name(){ return this.name;} ForTextView(){ return V(c9(String, this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(ea(this.fillWith));} get AsChoiceView(){ return ek(c9(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class bY extends bf { name;fillWith;get Name(){ return this.name;} ForTextView(){ return V(c9((fU) =>(new Date(fU)).toLocaleString(), this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(eb(this.fillWith));} get AsChoiceView(){ return ek(c9((fU) =>(new Date(fU)).toLocaleString(), this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class bZ extends bf { name;fillWith;get Name(){ return this.name;} ForTextView(){ return V(c9(String, this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(ec(this.fillWith));} get AsChoiceView(){ return ek(c9(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class b0 extends bf { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class b1 extends bf { name;fillWith;get Name(){ return this.name;} ForTextView(){ return V(c9((fU) => em(",", fU), this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(ed(this.fillWith));} get AsChoiceView(){ return ek(c9(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
function b2(fU){ return{$:6, $0:fU};}
function b3(fU){ return{$:5, $0:fU};}
function b4(fU){ return{$:4, $0:fU};}
class b5 { }
function b6(fU, fV){ return fE(fU, -2147483648, 2147483647, fV);}
class b7 extends j { idle;robin;Fork(fU){ this.robin.push(fU);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fU=Date.now();let fV=true;while(fV)if(this.robin.length===0){ this.idle=true;fV=false;} else {(this.robin.shift())();Date.now()-fU>40?(setTimeout(() => { this.tick();}, 0),fV=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
let b8=fO((fU) => class fV { static { b8=fU(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bn(false, []);this.scheduler=new b7();this.defCTS=[new cZ()];this.Zero=I();this.GetCT=(fW) => { fW.k(bj(fW.ct));};} });
function b9(){ throw new eZ("New");}
function b_(fU){ return fU instanceof Array?b$(fU):s(typeof fU, "string")?ca(fU):fU.GetEnumerator();}
function b$(fU){ return new cc(0, null, (fV) => { const fW=fV.s;return fW<o(fU)&&(fV.c=l(fU, fW),fV.s=fW+1,true);}, void 0);}
function ca(fU){ return new cc(0, null, (fV) => { const fW=fV.s;return fW<fU.length&&(fV.c=fU[fW],fV.s=fW+1,true);}, void 0);}
function cb(fU){ return fU instanceof Array?b$(fU):s(typeof fU, "string")?ca(fU):"GetEnumerator0"in fU?fU.GetEnumerator0():fU.GetEnumerator();}
class cc extends j { s;c;n;d;e;MoveNext(){ const fU=this.n(this);this.e=fU?1:2;return fU;} get Current(){ return this.e===1?this.c:this.e===0?g("Enumeration has not started. Call MoveNext."):g("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fU, fV, fW, fX){ super();this.s=fU;this.c=fV;this.n=fW;this.d=fX;this.e=0;} }
class cd extends j { }
class ce extends cd { isConst;current;snap;view;id;SetFinal(fU){ if(this.isConst)(((fV) => fV("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fV) => { console.log(fV);}));else { dL(this.snap);this.isConst=true;this.current=fU;this.snap={s:c4(fU)};} } Set(fU){ if(this.isConst)(((fV) => fV("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fV) => { console.log(fV);}));else { dL(this.snap);this.current=fU;this.snap={s:c3(fU, [])};} } get View(){ return this.view;} Get(){ return this.current;} UpdateMaybe(fU){ const fV=fU(this.Get());if(fV!=null&&fV.$==1)this.Set(fV.$0);} constructor(fU, fV, fW){ super();this.isConst=fU;this.current=fW;this.snap=fV;this.view=() => this.snap;this.id=c0();} }
function cf(fU, fV, fW){ const fX=fU.s;if(fX==null)fW();else fX!=null&&fX.$==2?(fX.$1.push(fW),fV(fX.$0)):fX!=null&&fX.$==3?(fX.$0.push(fV),fX.$1.push(fW)):fV(fX.$0);}
function cg(fU, fV){ const fW=fV.s;if(fW!=null&&fW.$==0)return{s:c4(fU(fW.$0))};else { const fX={s:c5([], [])};cn(fV, (fY) => { co(fX, fV, fU(fY));}, fX);return fX;} }
function ch(fU, fV, fW, fX){ const fY=fV.s;const fZ=fW.s;const f0=fX.s;if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?f0!=null&&f0.$==0?{s:c4(fU(fY.$0, fZ.$0, f0.$0))}:cp(fU, fY.$0, fZ.$0, fX):f0!=null&&f0.$==0?cq(fU, fY.$0, f0.$0, fW):cr(fU, fY.$0, fW, fX);else if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?cs(fU, fZ.$0, f0.$0, fV):ct(fU, fZ.$0, fV, fX);else if(f0!=null&&f0.$==0)return cu(fU, f0.$0, fV, fW);else { const f1={s:c5([], [])};const f2=() => { const f3=f1.s;if(!(f3!=null&&f3.$==0||f3!=null&&f3.$==2)){ const f4=cv(fV);const f5=cv(fW);const f6=cv(fX);if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f4.$0[1]&&f5.$0[1]&&f6.$0[1])cw(f1, fU(f4.$0[0], f5.$0[0], f6.$0[0]));else cx(f1, fU(f4.$0[0], f5.$0[0], f6.$0[0]));} };cn(fV, f2, f1);cn(fW, f2, f1);cn(fX, f2, f1);return f1;} }
function ci(fU){ const fV=bN(fU);if(fV.length==0)return{s:c4([])};else { const fW={s:c5([], [])};const fX=[o(fV)-1];const fY=() => { if(fX[0]===0){ const fZ=bL((f0) => { const f1=f0.s;return f1!=null&&f1.$==0?f1.$0:f1!=null&&f1.$==2?f1.$0:g("value not found by View.Sequence");}, fV);if(bQ((f0) => { const f1=f0.s;return f1!=null&&f1.$==0;}, fV))cw(fW, fZ);else cx(fW, fZ);} else fX[0]=fX[0]-1;};bJ((fZ) => { cn(fZ, fY, fW);}, fV);return fW;} }
function cj(fU, fV, fW){ const fX=fV.s;const fY=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?{s:c4(fU(fX.$0, fY.$0))}:cy(fU, fX.$0, fW);else if(fY!=null&&fY.$==0)return cz(fU, fY.$0, fV);else { const fZ={s:c5([], [])};const f0=() => { const f1=fZ.s;if(!(f1!=null&&f1.$==0||f1!=null&&f1.$==2)){ const f2=cv(fV);const f3=cv(fW);if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f2.$0[1]&&f3.$0[1])cw(fZ, fU(f2.$0[0], f3.$0[0]));else cx(fZ, fU(f2.$0[0], f3.$0[0]));} };cn(fV, f0, fZ);cn(fW, f0, fZ);return fZ;} }
function ck(fU, fV){ const fW=fU.s;const fX=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?{s:c4(null)}:fV;else if(fX!=null&&fX.$==0)return fU;else { const fY={s:c5([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=cv(fU);const f2=cv(fV);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f1.$0[1]&&f2.$0[1])cw(fY, null);else cx(fY, null);} };cn(fU, fZ, fY);cn(fV, fZ, fY);return fY;} }
function cl(fU){ const fV=fU.s;if(fV==null)return fU;else if(fV!=null&&fV.$==2){ const fW={s:c3(fV.$0, [])};cA(fU, fW);return fW;} else if(fV!=null&&fV.$==3){ const fX={s:c5([], [])};cn(fU, (fY) => { co(fX, fU, fY);}, fX);return fX;} else return fU;}
function cm(fU, fV){ const fW=fU.s;if(fW==null)fV();else fW!=null&&fW.$==2?fW.$1.push(fV):fW!=null&&fW.$==3?fW.$1.push(fV):void 0;}
function cn(fU, fV, fW){ const fX=fU.s;if(fX==null)dL(fW);else fX!=null&&fX.$==2?(cB(fX.$1, fW),fV(fX.$0)):fX!=null&&fX.$==3?(fX.$0.push(fV),cB(fX.$1, fW)):fV(fX.$0);}
function co(fU, fV, fW){ const fX=fV.s;if(fX!=null&&fX.$==0)cw(fU, fW);else cx(fU, fW);}
function cp(fU, fV, fW, fX){ return cg((fY) => fU(fV, fW, fY), fX);}
function cq(fU, fV, fW, fX){ return cg((fY) => fU(fV, fY, fW), fX);}
function cr(fU, fV, fW, fX){ return cj((fY, fZ) => fU(fV, fY, fZ), fW, fX);}
function cs(fU, fV, fW, fX){ return cg((fY) => fU(fY, fV, fW), fX);}
function ct(fU, fV, fW, fX){ return cj((fY, fZ) => fU(fY, fV, fZ), fW, fX);}
function cu(fU, fV, fW, fX){ return cj((fY, fZ) => fU(fY, fZ, fV), fW, fX);}
function cv(fU){ const fV=fU.s;return fV!=null&&fV.$==0?V([fV.$0, true]):fV!=null&&fV.$==2?V([fV.$0, false]):null;}
function cw(fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==3){ fU.s=c4(fV);const fX=fW.$0;for(let fY=0, fZ=o(fX)-1;fY<=fZ;fY++)(l(fX, fY))(fV);} else void 0;}
function cx(fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==3){ fU.s=c3(fV, fW.$1);const fX=fW.$0;for(let fY=0, fZ=o(fX)-1;fY<=fZ;fY++)(l(fX, fY))(fV);} else void 0;}
function cy(fU, fV, fW){ return cg((fX) => fU(fV, fX), fW);}
function cz(fU, fV, fW){ return cg((fX) => fU(fX, fV), fW);}
function cA(fU, fV){ const fW=fU.s;if(fW==null)dL(fV);else fW!=null&&fW.$==2?cB(fW.$1, fV):fW!=null&&fW.$==3?cB(fW.$1, fV):void 0;}
function cB(fU, fV){ fU.push(fV);if(fU.length%20===0){ const fW=fU.slice(0);fJ(fU);for(let fY=0, fZ=o(fW)-1;fY<=fZ;fY++){ const fX=l(fW, fY);if(typeof fX=="object")(((f0) => { if(f0.s)fU.push(f0);})(fX));else(((f0) => { fU.push(f0);})(fX));} } else void 0;}
let cC=fO((fU) => class fV { static { cC=fU(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new be("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new be("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cD(fU, fV){ cE(fU, fV, null);}
function cE(fU, fV, fW){ while(true){ if(fV!=null&&fV.$==1)return cJ(fU, fV.$0.El, fW);else if(fV!=null&&fV.$==2){ const fX=fV.$0;fX.Dirty=false;fV=fX.Current;} else if(fV==null)return fW;else if(fV!=null&&fV.$==4)return cJ(fU, fV.$0.Text, fW);else if(fV!=null&&fV.$==5)return cJ(fU, fV.$0, fW);else if(fV!=null&&fV.$==6)return bK((f0, f1) =>((((f2) =>(f3) =>(f4) => f3==null||f3.constructor===Object?cE(f2, f3, f4):cJ(f2, f3, f4))(fU))(f0))(f1), fV.$0.Els, fW);else { const fY=fV.$1;const fZ=fV.$0;fV=fZ;fW=cE(fU, fY, fW);} } }
function cF(fU, fV){ return ez(eA(), cK(fU, dS(), fV));}
function cG(fU, fV, fW){ if(dB()){ const fX=null;return G(() => { const fY=eB(fW);const fZ=cO(fV, fY);const f0=cN(fV, fY);return H(dC(dD(fZ, cM(fV, fY))), () => H(cL(fU, fV), () => H(dC(f0), () => { fV.PreviousNodes=fY;return I(null);})));});} else return cL(fU, fV);}
function cH(fU, fV, fW){ const fX=eB(fW);cP(fU, fV.Top);fV.PreviousNodes=fX;}
function cI(fU, fV){ const fW=fU.parentNode;const fX=globalThis.document.createTextNode("");fW.insertBefore(fX, fU);cS(fU, fV);return fX;}
function cJ(fU, fV, fW){ dv(fU, fW, fV);return fV;}
function cK(fU, fV, fW){ cD(fU, fW);const fX=dM(fU, fV);return cX.New(fX, fW, null, fU, c0(), fP(fX.OnAfterRender));}
function cL(fU, fV){ if(dI()){ const fW=(fX) => { requestAnimationFrame(() => { cP(fU, fV.Top);fX();});};return L((fX, fY, fZ) => fW.apply(null, [fX, fY, fZ]));} else { cP(fU, fV.Top);return I(null);} }
function cM(fU, fV){ return dG(bL((fW) => dU(fW.Attr), eF(eE(fV, eD((fW) => dT(fW.Attr), fU.PreviousNodes)))));}
function cN(fU, fV){ return dG(bL((fW) => dW(fW.Attr), eF(eE(fU.PreviousNodes, eD((fW) => dV(fW.Attr), fV)))));}
function cO(fU, fV){ const fW=(fY) => dX(fY.Attr);const fX=(fY) => eD(fW, fY);return dG(bL((fY) => dY(fY.Attr), eF(eG(fX(fU.PreviousNodes), fX(fV)))));}
function cP(fU, fV){!fU?cT(fV):void 0;cU(fV.Children);cV(fV);}
function cQ(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cR(fU, fV){ fU.Value=fV;fU.Dirty=true;}
function cS(fU, fV){ cE(fU.parentNode, fV, fU);}
function cT(fU){ function fV(fW){ function fX(fY){ while(true){ if(fY!=null&&fY.$==0){ const fZ=fY.$1;const f0=fY.$0;if(fX(f0))return true;else fY=fZ;} else if(fY!=null&&fY.$==2){ const f1=fY.$0;if(f1.Dirty)return true;else fY=f1.Current;} else if(fY!=null&&fY.$==6){ const f2=fY.$0;return f2.Dirty||bH(fV, f2.Holes);} else return false;} } return fX(fW.Children);} d1(fU.El, fU.Attr);if(fV(fU))cW(fU);}
function cU(fU){ while(true){ if(fU!=null&&fU.$==1)return cP(false, fU.$0);else if(fU!=null&&fU.$==2){ const fV=fU.$0;fU=fV.Current;} else if(fU==null)return null;else if(fU!=null&&fU.$==5)return null;else if(fU!=null&&fU.$==4){ const fW=fU.$0;return fW.Dirty?(fW.Text.nodeValue=fW.Value,fW.Dirty=false):null;} else if(fU!=null&&fU.$==6){ const fX=fU.$0;bJ((f0) => { cP(false, f0);}, fX.Holes);bJ((f0) => { d1(f0[0], f0[1]);}, fX.Attrs);return cV(fX);} else { const fY=fU.$1;const fZ=fU.$0;cU(fZ);fU=fY;} } }
function cV(fU){ const fV=fP(fU.Render);if(fV!=null&&fV.$==1){ fV.$0(fU.El);fN(fU, "Render", null);} }
function cW(fU){ const fV=fU.El;function fW(f0, f1){ while(true){ if(f0!=null&&f0.$==1)return f0.$0.El;else if(f0!=null&&f0.$==2){ const f2=f0.$0;if(f2.Dirty){ f2.Dirty=false;return cE(fV, f2.Current, f1);} else f0=f2.Current;} else if(f0==null)return f1;else if(f0!=null&&f0.$==4)return f0.$0.Text;else if(f0!=null&&f0.$==5)return f0.$0;else if(f0!=null&&f0.$==6){ const f3=f0.$0;if(f3.Dirty)f3.Dirty=false;return bK((f6, f7) => f6==null||f6.constructor===Object?fW(f6, f7):f6, f3.Els, f1);} else { const f4=f0.$1;const f5=f0.$0;f0=f5;f1=fW(f4, f1);} } } const fX=fU.El;fz((f0) => { dw(fX, f0);}, fy(fA(fU), fx(fU.El, fP(fU.Delimiters))));let fY=fU.Children;const fZ=fP(fU.Delimiters);fW(fY, fZ!=null&&fZ.$==1?fZ.$0[1]:null);}
class cX { Attr;Children;Delimiters;El;ElKey;Render;Equals(fU){ return this.ElKey===fU.ElKey;} GetHashCode(){ return this.ElKey;} static New(fU, fV, fW, fX, fY, fZ){ const f0={Attr:fU, Children:fV, El:fX, ElKey:fY};let f1=(fN(f0, "Delimiters", fW),fN(f0, "Render", fZ),f0);return fS(cX, f1);} }
class cY extends Error { ct;static New(fU){ return new this("New", fU);} static New_1(fU, fV, fW){ return new this("New_1", fU, fV, fW);} constructor(fU, fV, fW, fX){ let fY;if(fU=="New"){ fY=fV;fU="New_1";fV="The operation was canceled.";fW=null;fX=fY;} if(fU=="New_1"){ const fZ=fV;const f0=fW;const f1=fX;super(fZ);this.inner=f0;this.ct=f1;} } }
class cZ extends j { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function c0(){ c1(c2()+1);return c2();}
function c1(fU){ eR.counter=fU;}
function c2(){ return eR.counter;}
function c3(fU, fV){ return{$:2, $0:fU, $1:fV};}
function c4(fU){ return{$:0, $0:fU};}
function c5(fU, fV){ return{$:3, $0:fU, $1:fV};}
class c6 extends bd { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fU, fV){ const fW=ex.Create(fV);const fX=bL((f0) => dN(f0[1]), fU.Attrs);let fY=eu(c7(), db, fX);let fZ=db(fY, fW.v);return new c6(b2(fU), fZ, l(fU.Els, 0), fW);} constructor(fU, fV, fW, fX){ super(fU, fV);this.docNode_1=fU;this.updates_1=fV;this.elt=fW;this.rvUpdates=fX;} }
function c7(fU){ const fV={s:c4(fU)};return() => fV;}
function c8(fU, fV){ function fW(){ cf(fV(), fU, () => { P().Fork(fW);});} P().Fork(fW);}
function c9(fU, fV){ return dc(() => cg(fU, fV()));}
function c_(fU, fV, fW, fX){ return dc(() => ch(fU, fV(), fW(), fX()));}
function c$(fU){ return dc(() => ci(bt((fV) => fV(), fU)));}
function da(fU, fV, fW){ return dc(() => cj(fU, fV(), fW()));}
function db(fU, fV){ return dc(() => ck(fU(), fV()));}
function dc(fU){ const fV={c:null, o:fU};return() => { let fW=fV.c;if(fW===null){ fW=fV.o();fV.c=fW;const fX=fW.s;if(fX!=null&&fX.$==0)fV.o=null;else cm(fW, () => { fV.c=null;});return fW;} else return fW;};}
function dd(fU){ let fV=null;let fW=0;const fX=fU.textContent;const fY=new RegExp(bc(), "g");while(fV=fY.exec(fX),fV!==null){ fU.parentNode.insertBefore(globalThis.document.createTextNode(dl(fX, V(fW), V(fY.lastIndex-l(fV, 0).length-1))), fU);fW=fY.lastIndex;const fZ=globalThis.document.createElement("span");fZ.setAttribute("ws-replace", l(fV, 1).toLowerCase());fU.parentNode.insertBefore(fZ, fU);} fY.lastIndex=0;fU.textContent=dl(fX, V(fW), null);}
function de(fU){ console.warn("Instantiating non-loaded template", fU);}
function df(fU, fV, fW){ const fX=fU.querySelector("[ws-replace]");return s(fX, null)?(console.warn("Filling non-existent text hole", fW),null):(fX.parentNode.replaceChild(globalThis.document.createTextNode(fV), fX),V(fX.getAttribute("ws-replace")));}
function dg(fU, fV){ const fW=(fX) => { $(fU, "["+fX+"]", (fY) => { if(!fV.Contains(fY.getAttribute(fX)))fY.removeAttribute(fX);});};fW("ws-attr");fW("ws-onafterrender");fW("ws-var");$(fU, "[ws-hole]", (fX) => { if(!fV.Contains(fX.getAttribute("ws-hole"))){ fX.removeAttribute("ws-hole");while(fX.hasChildNodes())fX.removeChild(fX.lastChild);} });$(fU, "[ws-replace]", (fX) => { if(!fV.Contains(fX.getAttribute("ws-replace")))fX.parentNode.removeChild(fX);});$(fU, "[ws-on]", (fX) => { fX.setAttribute("ws-on", em(" ", bM((fY) => fV.Contains(l(en(fY, [":"], 1), 1)), en(fX.getAttribute("ws-on"), [" "], 1))));});$(fU, "[ws-attr-holes]", (fX) => { const fY=en(fX.getAttribute("ws-attr-holes"), [" "], 1);for(let f2=0, f3=fY.length-1;f2<=f3;f2++){ const fZ=l(fY, f2);let f0=new RegExp(bc(), "g");let f1=fX.getAttribute(fZ).replace(f0, (f4, f5) => fV.Contains(f5)?f4:"");fX.setAttribute(fZ, f1);} });}
function dh(fU, fV){ dk(fV);const fW=fV.nodeName.toLowerCase();const fX=fU.querySelector("[ws-attr="+fW+"]");if(s(fX, null))console.warn("Filling non-existent attr hole", fW);else { fX.removeAttribute("ws-attr");for(let fZ=0, f0=fV.attributes.length-1;fZ<=f0;fZ++){ const fY=fV.attributes.item(fZ);if(fY.name=="class"&&fX.hasAttribute("class"))fX.setAttribute("class", fX.getAttribute("class")+" "+fY.nodeValue);else fX.setAttribute(fY.name, fY.nodeValue);} } }
function di(fU, fV){ const fW=(fX) => { $(fU, "["+fX+"]", (fY) => { let fZ;const f0=(fZ=null,[fV.TryGetValue(fY.getAttribute(fX).toLowerCase(), {get:() => fZ, set:(f1) => { fZ=f1;}}), fZ]);if(f0[0])fY.setAttribute(fX, f0[1]);});};fW("ws-hole");fW("ws-replace");fW("ws-attr");fW("ws-onafterrender");fW("ws-var");$(fU, "[ws-on]", (fX) => { fX.setAttribute("ws-on", em(" ", bL((fY) => { let fZ;const f0=en(fY, [":"], 1);const f1=(fZ=null,[fV.TryGetValue(l(f0, 1), {get:() => fZ, set:(f2) => { fZ=f2;}}), fZ]);return f1[0]?l(f0, 0)+":"+f1[1]:fY;}, en(fX.getAttribute("ws-on"), [" "], 1))));});$(fU, "[ws-attr-holes]", (fX) => { const fY=en(fX.getAttribute("ws-attr-holes"), [" "], 1);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)((() => { const f1=l(fY, fZ);return fX.setAttribute(f1, br((f2, f3) => { const f4=h(f3);return f2.replace(new RegExp("\\${"+f4[0]+"}", "ig"), "${"+f4[1]+"}");}, fX.getAttribute(f1), fV));})());});}
function dj(fU, fV, fW){ while(true){ if(fU.hasChildNodes())fW=fV.insertBefore(fU.lastChild, fW);else return null;} }
function dk(fU){ const fV=fU.attributes;const fW=[];const fX=[];const fY=[];for(let f3=0, f4=fV.length-1;f3<=f4;f3++){ const fZ=fV.item(f3);if(eo(fZ.nodeName, "ws-on")&&fZ.nodeName!="ws-onafterrender"&&fZ.nodeName!="ws-on"){ fW.push(fZ.nodeName);fX.push(dl(fZ.nodeName, V("ws-on".length), null)+":"+fZ.nodeValue.toLowerCase());} else if(!eo(fZ.nodeName, "ws-")&&(new RegExp(bc())).test(fZ.nodeValue)){ let f0=new RegExp(bc(), "g");let f1=fZ.nodeValue.replace(f0, (f5, f6) =>"${"+f6.toLowerCase()+"}");fZ.nodeValue=f1;fY.push(fZ.nodeName);} else void 0;} if(!(fX.length==0))fU.setAttribute("ws-on", em(" ", fX));if(!(fY.length==0))fU.setAttribute("ws-attr-holes", em(" ", fY));const f2=(f5) => { const f6=fU.getAttribute(f5);if(f6==null){ } else fU.setAttribute(f5, f6.toLowerCase());};f2("ws-hole");f2("ws-replace");f2("ws-attr");f2("ws-onafterrender");f2("ws-var");bJ((f5) => { fU.removeAttribute(f5);}, fW);}
function dl(fU, fV, fW){ if(fV==null){ if(fW!=null&&fW.$==1){ const fX=fW.$0;return fX<0?"":fU.slice(0, fX+1);} else return"";} else if(fW==null)return fU.slice(fV.$0);else { const fY=fW.$0;return fY<0?"":fU.slice(fV.$0, fY+1);} }
function dm(fU){ const fV=globalThis.document.createElement("div");if(!do_1().test(fU)){ fV.appendChild(globalThis.document.createTextNode(fU));return fV;} else { const fW=ds().exec(fU);const fX=s(fW, null)?"":l(fW, 1).toLowerCase();const fY=(dp())[fX];const fZ=fY?fY:dq();fV.innerHTML=fZ[1]+fU.replace(dr(), "<$1></$2>")+fZ[2];function f0(f1, f2){ while(true){ if(f2===0)return f1;else { const f3=f2;f1=f1.lastChild;f2=f3-1;} } } return f0(fV, fZ[0]);} }
function dn(fU){ const fV=[];for(let fW=0, fX=fU.childNodes.length-1;fW<=fX;fW++)fV.push(fU.childNodes[fW]);return fV;}
function do_1(){ return eS.rhtml;}
function dp(){ return eS.wrapMap;}
function dq(){ return eS.defaultWrap;}
function dr(){ return eS.rxhtmlTag;}
function ds(){ return eS.rtagName;}
function dt(fU, fV, fW){ const fX=fU.querySelectorAll(fV);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)fW(fX[fY]);}
function du(fU, fV){ const fW=globalThis.document.querySelectorAll(fU);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function dv(fU, fV, fW){ let fX;if(fW.parentNode===fU){ const fY=fW.nextSibling;let fZ=s(fY, null)?null:fY;fX=fV===fZ;} else fX=false;if(!fX)fU.insertBefore(fW, fV);}
function dw(fU, fV){ if(fV.parentNode===fU)fU.removeChild(fV);}
function dx(){ return g("The input sequence has an insufficient number of elements.");}
function dy(fU, fV){ let fW=true;let fX=0;while(fW&&fX<o(fV))if(s(fV[fX], fU))fW=false;else fX=fX+1;return!fW;}
function dz(){ return g("The input must be non-negative.");}
class dA extends j { d;GetEnumerator(){ return b_(bt((fU) => fU.K, this.d));} constructor(fU){ super();this.d=fU;} }
function dB(){ return eH();}
function dC(fU){ const fV=null;return G(() => H(dE(() => { }, eI(fU)), () => { eJ(fU);return I(null);}));}
function dD(fU, fV){ return dF(eU(fU.$0, fV.$0));}
function dE(fU, fV){ const fW=fV.Duration;if(fW===0)return Q();else { const fX=(fY) => { function fZ(f0){ return(f1) => { const f2=f1-f0;fV.Compute(f2);fU();return f2<=fW?void requestAnimationFrame((f3) => {(fZ(f0))(f3);}):fY();};} requestAnimationFrame((f0) => {(fZ(f0))(f0);});};return L((fY, fZ, f0) => fX.apply(null, [fY, fZ, f0]));} }
function dF(fU){ return{$:0, $0:fU};}
function dG(fU){ return dF(eW(bt(eL, fU)));}
function dH(){ return dF(eX());}
function dI(){ return eP.BatchUpdatesEnabled;}
function dJ(fU){ const fV=[0];function fW(){ const fX=null;return G(() => H(fU, () => { const fY=fV[0];return s(fY, 1)?(fV[0]=0,Q()):s(fY, 2)?(fV[0]=1,fW()):Q();}));} return() => { const fX=fV[0];if(s(fX, 0)){ fV[0]=1;R(fW(), null);} else s(fX, 1)?fV[0]=2:void 0;};}
function dK(fU, fV, fW, fX){ const fY={DynElem:fU, DynFlags:fV, DynNodes:fW};fN(fY, "OnAfterRender", fX);return fY;}
function dL(fU){ let fV;const fW=fU.s;if(fW==null||(fW!=null&&fW.$==2?(fV=fW.$1,false):fW!=null&&fW.$==3?(fV=fW.$1,false):true))void 0;else { fU.s=null;for(let fY=0, fZ=o(fV)-1;fY<=fZ;fY++){ const fX=l(fV, fY);if(typeof fX=="object")(((f0) => { dL(f0);})(fX));else fX();} } }
function dM(fU, fV){ const fW=[];const fX=[];function fY(f1){ while(true){ if(!(f1===null)){ if(f1!=null&&f1.$==1)return fW.push(f1.$0);else if(f1!=null&&f1.$==2){ const f2=f1.$1;const f3=f1.$0;fY(f3);f1=f2;} else return f1!=null&&f1.$==3?f1.$0(fU):f1!=null&&f1.$==4?fX.push(f1.$0):null;} else return null;} } fY(fV);const fZ=fW.slice(0);let f0=dK(fU, dP(fV), fZ, fX.length===0?null:V((f1) => { bs((f2) => { f2(f1);}, fX);}));return f0;}
function dN(fU){ return ev((fV) => fV.NChanged, c7(), db, fU.DynNodes);}
function dO(fU){ return dK(fU, 0, [], null);}
function dP(fU){ return fU!==null&&fU.hasOwnProperty("flags")?fU.flags:0;}
function dQ(fU){ return eh.A3(fU);}
function dR(fU, fV){ return eh.A1(new eY(fU, fV));}
function dS(){ return e0.EmptyAttr;}
function dT(fU){ const fV=2;return(fU.DynFlags&fV)===fV;}
function dU(fU){ return d0(fU, (fV, fW) => fV.NGetExitAnim(fW));}
function dV(fU){ const fV=1;return(fU.DynFlags&fV)===fV;}
function dW(fU){ return d0(fU, (fV, fW) => fV.NGetEnterAnim(fW));}
function dX(fU){ const fV=4;return(fU.DynFlags&fV)===fV;}
function dY(fU){ return d0(fU, (fV, fW) => fV.NGetChangeAnim(fW));}
function dZ(fU, fV){ if(fU===null)return fV;else if(fV===null)return fU;else { const fW=eh.A2(fU, fV);d2(fW, dP(fU)|dP(fV));return fW;} }
function d0(fU, fV){ return dG(bL((fW) => fV(fW, fU.DynElem), fU.DynNodes));}
function d1(fU, fV){ bJ((fW) => { fW.NSync(fU);}, fV.DynNodes);}
function d2(fU, fV){ fU.flags=fV;}
class d3 extends bf { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d4 extends bf { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return ej(this.fillWith);} }
class d5 extends bf { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d6 extends bf { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d7(fU, fV){ return dQ((fW) => { fW.addEventListener(fU, (fX) =>(fV(fW))(fX), false);});}
function d8(fU){ return eh.A4(fU);}
function d9(fU, fV){ return dR(fV, (fW) =>(fX) => fW.setAttribute(fU, fX));}
function d_(fU){ return ee(fp(), fU);}
function d$(fU){ return ee(fq(), fU);}
function ea(fU){ return ee(fr(), fU);}
function eb(fU){ return ee(fs(), fU);}
function ec(fU){ return ee(ft(), fU);}
function ed(fU){ return ee(fu(), fU);}
function ee(fU, fV){ const fW=fU(fV);return eh.Append(dQ(fW[0]), ef(fW[1], fW[2]));}
function ef(fU, fV){ return dR(fV, fU);}
class eg extends bf { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class eh { static Handler(fU, fV){ return eh.HandlerImpl(fU, fV);} static Concat(fU){ const fV=ew(fU);return eu(dS(), eh.Append, fV);} static Create(fU, fV){ return dQ((fW) => { fW.setAttribute(fU, fV);});} static HandlerImpl(fU, fV){ return dQ((fW) => { fW.addEventListener(fU, (fX) =>(fV(fW))(fX), false);});} static Append(fU, fV){ return dZ(fU, fV);} static A4(fU){ return fS(eh, {$:4, $0:fU});} static A3(fU){ return fS(eh, {$:3, $0:fU});} static A1(fU){ return fS(eh, {$:1, $0:fU});} static A2(fU, fV){ return fS(eh, {$:2, $0:fU, $1:fV});} }
class ei extends bf { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ej(fU){ return{$:0, $0:fU};}
function ek(fU){ return{$:1, $0:fU};}
class el { static Cons(fU, fV){ return fS(el, {$:1, $0:fU, $1:fV});} static Empty=fS(el, {$:0});GetEnumerator(){ return new cc(this, null, (fU) => { const fV=fU.s;return fV.$==0?false:(fU.c=fV.$0,fU.s=fV.$1,true);}, void 0);} }
function em(fU, fV){ return bN(fV).join(fU);}
function en(fU, fV, fW){ return ep(fU, new RegExp("["+eq(fV.join(""))+"]"), fW);}
function eo(fU, fV){ return fU.substring(0, fV.length)==fV;}
function ep(fU, fV, fW){ return fW===1?bM((fX) => fX!=="", er(fU, fV)):er(fU, fV);}
function eq(fU){ return fU.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function er(fU, fV){ return fU.split(fV);}
function es(fU, fV){ return bC(fU, et(fV));}
function et(fU){ return fU==null?"":fU;}
function eu(fU, fV, fW){ const fX=o(fW);function fY(fZ){ return(f0) => { let f1;switch(f0<=0?0:f0===1?fZ>=0&&fZ<fX?1:(f1=f0,2):(f1=f0,2)){ case 0:return fU;case 1:return l(fW, fZ);case 2:const f2=f0/2>>0;return fV((fY(fZ))(f2), (fY(fZ+f2))(f0-f2));} };} return(fY(0))(fX);}
function ev(fU, fV, fW, fX){ const fY=o(fX);function fZ(f0){ return(f1) => { let f2;switch(f1<=0?0:f1===1?f0>=0&&f0<fY?1:(f2=f1,2):(f2=f1,2)){ case 0:return fV;case 1:return fU(l(fX, f0));case 2:const f3=f1/2>>0;return fW((fZ(f0))(f3), (fZ(f0+f3))(f1-f3));} };} return(fZ(0))(fY);}
function ew(fU){ if(fU instanceof Array)return fU;else if(fU instanceof el)return bP(fU);else if(fU===null)return[];else { const fV=[];const fW=b_(fU);try { while(fW.MoveNext())fV.push(fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } }
class ex { c;s;v;static Create(fU){ let fV;fV=null;fV=ex.New(fU, null, () => { let fW;fW=fV.s;return fW===null?(fW=cl(fV.c()),fV.s=fW,cm(fW, () => { fV.s=null;}),fW):fW;});return fV;} static New(fU, fV, fW){ return fS(ex, {c:fU, s:fV, v:fW});} }
class ey extends j { d;GetEnumerator(){ return b_(bt((fU) => fU.V, this.d));} constructor(fU){ super();this.d=fU;} }
function ez(fU, fV){ return{PreviousNodes:fU, Top:fV};}
function eA(){ return eC(new bo("New_3"));}
function eB(fU){ const fV=[];function fW(fZ, f0){ while(true)switch(fZ){ case 0:if(f0!=null&&f0.$==0){ const f1=f0.$1;const f2=f0.$0;fW(0, f2);f0=f1;} else if(f0!=null&&f0.$==1){ const f3=f0.$0;f0=f3;fZ=1;} else if(f0!=null&&f0.$==2){ const f4=f0.$0;f0=f4.Current;} else if(f0!=null&&f0.$==6){ const f5=f0.$0.Holes;return(((f6) =>(f7) => { bJ(f6, f7);})(fY))(f5);} else return null;break;case 1:fV.push(f0);f0=f0.Children;fZ=0;break;} } function fX(fZ){ return fW(0, fZ);} function fY(fZ){ return fW(1, fZ);} fX(fU);return eC(new bo("New_2", fV));}
function eC(fU){ return{$:0, $0:fU};}
function eD(fU, fV){ return eC(e2(fU, fV.$0));}
function eE(fU, fV){ return eC(e3(fU.$0, fV.$0));}
function eF(fU){ return e4(fU.$0);}
function eG(fU, fV){ return eC(e5(fU.$0, fV.$0));}
function eH(){ return eT.UseAnimations;}
function eI(fU){ return eK(bE((fV) => fV.$==1?V(fV.$0):null, eV(fU.$0)));}
function eJ(fU){ bJ((fV) => { if(fV.$==0)fV.$0();}, eV(fU.$0));}
function eK(fU){ const fV=ew(fU);const fW=o(fV);if(fW===0)return eM();else if(fW===1)return l(fV, 0);else { const fX=bw(bt((fZ) => fZ.Duration, fV));const fY=bL((fZ) => eO(fX, fZ), fV);return eN(fX, (fZ) => { bJ((f0) => { f0.Compute(fZ);}, fY);});} }
function eL(fU){ return fU.$0;}
function eM(fU){ return eN(0, () => fU);}
function eN(fU, fV){ return{Compute:fV, Duration:fU};}
function eO(fU, fV){ const fW=fV.Compute;const fX=fV.Duration;const fY=fF(() => fV.Compute(fV.Duration));return{Compute:(fZ) => fZ>=fX?fY.f():fW(fZ), Duration:fU};}
let eP=fO((fU) => class fV { static { eP=fU(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eQ(fU){ let fV=[];let fW;for(var fX in fU)fV.push.apply(fV, fU[fX]);return fV;}
let eR=fO((fU) => class fV { static { eR=fU(this);} static counter;static { this.counter=0;} });
let eS=fO((fU) => class fV { static { eS=fU(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fW=[1, "<table>", "</table>"];let fX=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fW], ["tbody", fW], ["tfoot", fW], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fX;this.defaultWrap=[0, "", ""];} });
let eT=fO((fU) => class fV { static { eT=fU(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e1.Custom((fW) => { const fX=fW*fW;return 3*fX-2*(fX*fW);});this.UseAnimations=true;} });
function eU(fU, fV){ return fU.$==0?fV:fV.$==0?fU:{$:2, $0:fU, $1:fV};}
function eV(fU){ const fV=[];function fW(fX){ while(true){ if(fX.$==1)return fV.push(fX.$0);else if(fX.$==2){ const fY=fX.$1;const fZ=fX.$0;fW(fZ);fX=fY;} else return fX.$==3?bJ((f0) => { fV.push(f0);}, fX.$0):null;} } fW(fU);return fV.slice(0);}
function eW(fU){ const fV=ew(fU);return eu(eX(), eU, fV);}
function eX(){ return fI.Empty;}
class eY extends j { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fU){ return dH();} NGetEnterAnim(fU){ return dH();} NGetChangeAnim(fU){ return dH();} NSync(fU){ if(this.dirty){(this.push(fU))(this.value);this.dirty=false;} } constructor(fU, fV){ super();this.push=fV;this.value=void 0;this.dirty=false;this.updates=c9((fW) => { this.value=fW;this.dirty=true;}, fU);} }
class eZ extends Error { static New(){ return new this("New");} static New_1(fU){ return new this("New_1", fU);} constructor(fU, fV){ if(fU=="New"){ fU="New_1";fV="The given key was not present in the dictionary.";} if(fU=="New_1"){ const fW=fV;super(fW);} } }
let e0=fO((fU) => class fV { static { e0=fU(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(ga) =>[(gb) => { gb.addEventListener("change", () => ga.Get()!=gb.checked?ga.Set(gb.checked):null);}, (gb) =>(gc) => gc!=null&&gc.$==1?void(gb.checked=gc.$0):null, c9(V, ga.View)];this.StringSet=(ga) =>(gb) => { ga.value=gb;};this.StringGet=(ga) => V(ga.value);const fW=e$();const fX=e_();this.StringApply=(ga) => e9(fW, fX, ga);this.StringListSet=(ga) =>(gb) => { const gc=ga.options;for(let gd=0, ge=gc.length-1;gd<=ge;gd++)((() => { const gf=gc.item(gd);gf.selected=dy(gf.value, gb);})());};this.StringListGet=(ga) => { const gb=ga.selectedOptions;return V(bN(bu(() => bv((gc) =>[gb.item(gc).value], i(0, gb.length-1)))));};const fY=fb();const fZ=fa();this.StringListApply=(ga) => e9(fY, fZ, ga);this.DateTimeSetUnchecked=(ga) =>(gb) => { ga.value=(new Date(gb)).toLocaleString();};this.DateTimeGetUnchecked=(ga) => { let gb;let gc;const gd=ga.value;if(fv(gd))return V(-8640000000000000);else { gb=0;const ge=fD(gd);let gf=ge!=null&&ge.$==1&&(gb=ge.$0,true);gc=[gf, gb];return gc[0]?V(gc[1]):null;} };const f0=fd();const f1=fc();this.DateTimeApplyUnchecked=(ga) => e9(f0, f1, ga);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(ga) => { const gb=ga.files;return V(bN(bu(() => bt((gc) => gb.item(gc), i(0, gb.length-1)))));};const f2=fg();const f3=ff();this.FileApplyUnchecked=(ga) => fe(f2, f3, ga);this.IntSetUnchecked=(ga) =>(gb) => { ga.value=String(gb);};this.IntGetUnchecked=(ga) => { const gb=ga.value;if(fv(gb))return V(0);else { const gc=+gb;return gc!==gc>>0?null:V(gc);} };const f4=fi();const f5=fh();this.IntApplyUnchecked=(ga) => e9(f4, f5, ga);this.IntSetChecked=(ga) =>(gb) => { const gc=gb.Input;return ga.value!=gc?void(ga.value=gc):null;};this.IntGetChecked=(ga) => { let gb;let gc;const gd=ga.value;if(fv(gd))gb=(ga.checkValidity?ga.checkValidity():true)?fw.Blank(gd):fw.Invalid(gd);else { const ge=(gc=0,[b6(gd, {get:() => gc, set:(gf) => { gc=gf;}}), gc]);gb=ge[0]?fw.Valid(ge[1], gd):fw.Invalid(gd);} return V(gb);};const f6=fk();const f7=fj();this.IntApplyChecked=(ga) => e9(f6, f7, ga);this.FloatSetUnchecked=(ga) =>(gb) => { ga.value=String(gb);};this.FloatGetUnchecked=(ga) => { const gb=ga.value;if(fv(gb))return V(0);else { const gc=+gb;return isNaN(gc)?null:V(gc);} };const f8=fm();const f9=fl();this.FloatApplyUnchecked=(ga) => e9(f8, f9, ga);this.FloatSetChecked=(ga) =>(gb) => { const gc=gb.Input;return ga.value!=gc?void(ga.value=gc):null;};this.FloatGetChecked=(ga) => { let gb;const gc=ga.value;if(fv(gc))gb=(ga.checkValidity?ga.checkValidity():true)?fw.Blank(gc):fw.Invalid(gc);else { const gd=+gc;gb=isNaN(gd)?fw.Invalid(gc):fw.Valid(gd, gc);} return V(gb);};const f_=fo();const f$=fn();this.FloatApplyChecked=(ga) => e9(f_, f$, ga);} });
class e1 extends j { transformTime;static Custom(fU){ return new e1(fU);} constructor(fU){ super();this.transformTime=fU;} }
function e2(fU, fV){ return new bo("New_2", bM(fU, e4(fV)));}
function e3(fU, fV){ const fW=new bo("New_2", e4(fV));fW.ExceptWith(e4(fU));return fW;}
function e4(fU){ const fV=bR(fU.Count, void 0);fU.CopyTo(fV, 0);return fV;}
function e5(fU, fV){ const fW=new bo("New_2", e4(fU));fW.IntersectWith(e4(fV));return fW;}
function e6(fU){ return fU.$==1?fU.$0:e8();}
function e7(fU){ return fU.$==1?fU.$1:e8();}
function e8(){ return g("The input list was empty.");}
function e9(fU, fV, fW){ let fX;fX=null;return[(fY) => { const fZ=() => { fW.UpdateMaybe((f0) => { let f1;fX=fU(fY);return fX!=null&&fX.$==1&&(!s(fX.$0, f0)&&(f1=[fX, fX.$0],true))?f1[0]:null;});};fY.addEventListener("change", fZ);fY.addEventListener("input", fZ);fY.addEventListener("keypress", fZ);}, (fY) => { const fZ=fV(fY);return(f0) => f0==null?null:fZ(f0.$0);}, c9((fY) => { let fZ;return fX!=null&&fX.$==1&&(s(fX.$0, fY)&&(fZ=fX.$0,true))?null:V(fY);}, fW.View)];}
function e_(){ return e0.StringSet;}
function e$(){ return e0.StringGet;}
function fa(){ return e0.StringListSet;}
function fb(){ return e0.StringListGet;}
function fc(){ return e0.DateTimeSetUnchecked;}
function fd(){ return e0.DateTimeGetUnchecked;}
function fe(fU, fV, fW){ let fX;fX=null;return[(fY) => { fY.addEventListener("change", () => { fW.UpdateMaybe((fZ) => { let f0;fX=fU(fY);return fX!=null&&fX.$==1&&(fX.$0!==fZ&&(f0=[fX, fX.$0],true))?f0[0]:null;});});}, (fY) => { const fZ=fV(fY);return(f0) => f0==null?null:fZ(f0.$0);}, c9((fY) => { let fZ;return fX!=null&&fX.$==1&&(s(fX.$0, fY)&&(fZ=fX.$0,true))?null:V(fY);}, fW.View)];}
function ff(){ return e0.FileSetUnchecked;}
function fg(){ return e0.FileGetUnchecked;}
function fh(){ return e0.IntSetUnchecked;}
function fi(){ return e0.IntGetUnchecked;}
function fj(){ return e0.IntSetChecked;}
function fk(){ return e0.IntGetChecked;}
function fl(){ return e0.FloatSetUnchecked;}
function fm(){ return e0.FloatGetUnchecked;}
function fn(){ return e0.FloatSetChecked;}
function fo(){ return e0.FloatGetChecked;}
function fp(){ return e0.StringApply;}
function fq(){ return e0.FloatApplyUnchecked;}
function fr(){ return e0.BoolCheckedApply;}
function fs(){ return e0.DateTimeApplyUnchecked;}
function ft(){ return e0.FileApplyUnchecked;}
function fu(){ return e0.StringListApply;}
function fv(fU){ return es(fC, fU);}
class fw { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fU){ return fS(fw, {$:2, $0:fU});} static Invalid(fU){ return fS(fw, {$:1, $0:fU});} static Valid(fU, fV){ return fS(fw, {$:0, $0:fU, $1:fV});} }
function fx(fU, fV){ let fW;if(fV!=null&&fV.$==1){ const fX=[];fW=fV.$0[0].nextSibling;while(fW!==fV.$0[1]){ fX.push(fW);fW=fW.nextSibling;} return fB(fX);} else { let fY=fU.childNodes.length;const fZ=fU.childNodes;let f0=bS(fY, (f1) => fZ[f1]);return fB(f0);} }
function fy(fU, fV){ const fW=fU.$0;return fB(bM((fX) => bQ((fY) =>!(fX===fY), fW), fV.$0));}
function fz(fU, fV){ bJ(fU, fV.$0);}
function fA(fU){ const fV=[];function fW(fX){ while(true){ if(fX!=null&&fX.$==2){ const fY=fX.$0;fX=fY.Current;} else if(fX!=null&&fX.$==1)return fV.push(fX.$0.El);else if(fX==null)return null;else if(fX!=null&&fX.$==5)return fV.push(fX.$0);else if(fX!=null&&fX.$==4)return fV.push(fX.$0.Text);else if(fX!=null&&fX.$==6){ const fZ=fX.$0.Els;return(((f2) =>(f3) => { bJ(f2, f3);})((f2) => { if(f2==null||f2.constructor===Object)fW(f2);else fV.push(f2);}))(fZ);} else { const f0=fX.$1;const f1=fX.$0;fW(f1);fX=f0;} } } fW(fU.Children);return fB(ew(fV));}
function fB(fU){ return{$:0, $0:fU};}
function fC(fU){ return fU.match(new RegExp("\\s"))!==null;}
function fD(fU){ const fV=Date.parse(fU);return isNaN(fV)?null:V(fV);}
function fE(fU, fV, fW, fX){ const fY=+fU;const fZ=fY===fY-fY%1&&fY>=fV&&fY<=fW;if(fZ)fX.set(fY);return fZ;}
function fF(fU){ return fK(false, fU, fG);}
function fG(){ const fU=this.v();this.c=true;this.v=fU;this.f=fH;return fU;}
function fH(){ return this.v;}
let fI=fO((fU) => class fV { static { fI=fU(this);} static Empty;static { this.Empty={$:0};} });
function fJ(fU){ fU.splice(0, o(fU));}
function fK(fU, fV, fW){ return{c:fU, v:fV, f:fW};}
fT(() => { b();});
fL();

